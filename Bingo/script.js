const objectifsParMap = {
  // --- Map 1 --- //
  "Tanglewood Street": [

    // -- Liste variantes selon la map -- //
    "EMF Niveau 5", "Orbe fantomatique", "Écriture fantomatique", "Températures glaciales", "Spirit Box", "Empreintes digitales",
    "Crucifix calciné", "Photo du fantôme", "Objectif secondaire complété", "Santé mentale < 25%",    
    "Encens utilisé", "Mort d’un joueur", "Ouija", "Monkey Paw", "Boîte à musique",
    "Mirroir Hanté", "Carte de Tarot", "Cercle d'Invocation", "Voodoo Doll",
    "Objet maudit utilisé", "Interaction EMF", "Porte qui bouge", "Objet lancé", "Ghost event", "Apparition complète",    
    "Apparition ombre", "Fantôme garage", "Game sans encens", "Fantôme Enfant", "Fantôme Femme", "Fantôme Homme",
    "Fantôme Sadako", "Cri Micro Parabolique", "Ballon qui bouge", "Manequin déplacé", "Alarme de voiture", "Capteur Sonore",
    "Difficulté random > 7", "Téléphone qui vibre", "Fantôme tout nue", "Ordinateur allumé", "Lumière allumé",
    "Lumière explosé", "Game sans livre", "Cauchemard du pauvre", "Mur de la mort", "Tarrot Maudit", "Rocking chair",
    "Téléphone qui sonne", "Game parfaite", "Fantôme cuisine", "Fantôme cave", "Fantôme buanderie", "Fantôme sallon",
    "Fantôme salle à manger", "Fantôme couloir", "Fantôme chambre parentale", "Fantôme nursery", "Fantôme chambre enfant",
    "Fantôme salle de bain", "Souffle paranormal", "Évenement chantant", "Cri de la Banshee", "Cri du Deogen", "Joue de la guitare",
    "TV allumé","FREE", "Lapin déplacé", "Eau sale",
    
    // -- Liste des fantômes -- //
    "Esprit", "Spectre", "Fantôme", "Oni", "Banshee", "Jumeaux", "Poltergeist", "Ombre",
    "Cauchemar", "Raiju", "Onryo", "Mimic", "Deogen", "Djinn", "Moroï", "Revenant", "Obake",
     "Yurei", "Démon", "Thayé", "Goryo", "Yokai", "Myling", "Hantu",

    // -- Liste des os -- //
    "Crâne", "Colonne vertébrale", "Mâchoire", "Omoplate", "Main", "Humérus", "Ulna", "Radius",
    "Pied", "Fibula", "Fémur", "Bassin"
  ],

  // --- Map 2 --- //
  "Edgefield Road": [
    // -- Liste Courantes à toutes les maps -- //
    "EMF Niveau 5", "Orbe fantomatique", "Écriture fantomatique", "Températures glaciales", "Spirit Box", "Empreintes digitales",
    "Crucifix calciné", "Photo du fantôme", "Objectif secondaire complété", "Santé mentale < 25%",    
    "Encens utilisé", "Mort d’un joueur", "Ouija", "Monkey Paw", "Boîte à musique",
    "Mirroir Hanté", "Carte de Tarot", "Cercle d'Invocation", "Voodoo Doll",
    "Objet maudit utilisé", "Interaction EMF", "Porte qui bouge", "Objet lancé", "Ghost event", "Apparition complète",    
    "Apparition ombre", "Game sans encens", "Fantôme Enfant", "Fantôme Femme", "Fantôme Homme",
    "Fantôme Sadako", "Cri Micro Parabolique", "Capteur Sonore",
    "Difficulté random > 7", "Fantôme tout nue", "Lumière allumé",
    "Lumière explosé", "Game sans livre", "Cauchemard du pauvre", "Mur de la mort", "Tarrot Maudit",
    "Game parfaite", "Souffle paranormal", "Évenement chantant", "Cri de la Banshee", "Cri du Deogen", "FREE",

    // -- Liste variantes selon la map -- //
     "Fantôme garage", "Ballon qui bouge", "Manequin déplacé", "Alarme de voiture", "Téléphone qui vibre",
     "Ordinateur allumé", "Téléphone qui sonne", "Fantôme cuisine", "Fantôme cave",
     "Fantôme buanderie", "Fantôme sallon","Fantôme salle à manger", "Fantôme couloir",
     "Fantôme chambre parentale", "Fantôme nursery", "Fantôme chambre enfant", "Fantôme salle de bain",
     "Joue de la guitare", "TV allumé", "Chambre verte", "Chambre orange", "Lapin déplacé", "Eau salle",

    // -- Liste des fantômes -- //
    "Esprit", "Spectre", "Fantôme", "Oni", "Banshee", "Jumeaux", "Poltergeist", "Ombre",
    "Cauchemar", "Raiju", "Onryo", "Mimic", "Deogen", "Djinn", "Moroï", "Revenant", "Obake",
     "Yurei", "Démon", "Thayé", "Goryo", "Yokai", "Myling", "Hantu",

    // -- Liste des os -- //
    "Crâne", "Colonne vertébrale", "Mâchoire", "Omoplate", "Main", "Humérus", "Ulna", "Radius",
    "Pied", "Fibula", "Fémur", "Bassin"
  ],

  // --- Map 3 --- //
  "Ridgeview Court": [
    // -- Liste Courantes à toutes les maps -- //
    "EMF Niveau 5", "Orbe fantomatique", "Écriture fantomatique", "Températures glaciales", "Spirit Box", "Empreintes digitales",
    "Crucifix calciné", "Photo du fantôme", "Objectif secondaire complété", "Santé mentale < 25%",    
    "Encens utilisé", "Mort d’un joueur", "Ouija", "Monkey Paw", "Boîte à musique",
    "Mirroir Hanté", "Carte de Tarot", "Cercle d'Invocation", "Voodoo Doll",
    "Objet maudit utilisé", "Interaction EMF", "Porte qui bouge", "Objet lancé", "Ghost event", "Apparition complète",    
    "Apparition ombre", "Game sans encens", "Fantôme Enfant", "Fantôme Femme", "Fantôme Homme",
    "Fantôme Sadako", "Cri Micro Parabolique", "Capteur Sonore",
    "Difficulté random > 7", "Fantôme tout nue", "Lumière allumé",
    "Lumière explosé", "Game sans livre", "Cauchemard du pauvre", "Mur de la mort", "Tarrot Maudit",
    "Game parfaite", "Souffle paranormal", "Évenement chantant", "Cri de la Banshee", "Cri du Deogen", "FREE",

    // -- Liste des fantômes -- //
    "Esprit", "Spectre", "Fantôme", "Oni", "Banshee", "Jumeaux", "Poltergeist", "Ombre",
    "Cauchemar", "Raiju", "Onryo", "Mimic", "Deogen", "Djinn", "Moroï", "Revenant", "Obake",
    "Yurei", "Démon", "Thayé", "Goryo", "Yokai", "Myling", "Hantu",

    // -- Liste des os -- //
    "Crâne", "Colonne vertébrale", "Mâchoire", "Omoplate", "Main", "Humérus", "Ulna", "Radius",
    "Pied", "Fibula", "Fémur", "Bassin",

    // -- Liste variantes selon la map -- //
    "Fantôme garage", "Ballon qui bouge", "Manequin déplacé", "Alarme de voiture", "Téléphone qui vibre",
    "Téléphone qui sonne", "Fantôme cuisine", "Fantôme cave",
     "Fantôme buanderie", "Fantôme sallon","Fantôme salle à manger", "Fantôme couloir",
     "Fantôme chambre", "Fantôme salle de bain", "Joue de la guitare", "TV allumé", "Lapin déplacé",
     "Eau sale"
  ],

  // --- Map 4 --- //
  "Willow Street": [
    // -- Liste Courantes à toutes les maps -- //
    "EMF Niveau 5", "Orbe fantomatique", "Écriture fantomatique", "Températures glaciales", "Spirit Box", "Empreintes digitales",
    "Crucifix calciné", "Photo du fantôme", "Objectif secondaire complété", "Santé mentale < 25%",    
    "Encens utilisé", "Mort d’un joueur", "Ouija", "Monkey Paw", "Boîte à musique",
    "Mirroir Hanté", "Carte de Tarot", "Cercle d'Invocation", "Voodoo Doll",
    "Objet maudit utilisé", "Interaction EMF", "Porte qui bouge", "Objet lancé", "Ghost event", "Apparition complète",    
    "Apparition ombre", "Game sans encens", "Fantôme Enfant", "Fantôme Femme", "Fantôme Homme",
    "Fantôme Sadako", "Cri Micro Parabolique", "Capteur Sonore",
    "Difficulté random > 7", "Fantôme tout nue", "Lumière allumé",
    "Lumière explosé", "Game sans livre", "Cauchemard du pauvre", "Mur de la mort", "Tarrot Maudit",
    "Game parfaite", "Souffle paranormal", "Évenement chantant", "Cri de la Banshee", "Cri du Deogen", "FREE",

    // -- Liste des fantômes -- //
    "Esprit", "Spectre", "Fantôme", "Oni", "Banshee", "Jumeaux", "Poltergeist", "Ombre",
    "Cauchemar", "Raiju", "Onryo", "Mimic", "Deogen", "Djinn", "Moroï", "Revenant", "Obake",
    "Yurei", "Démon", "Thayé", "Goryo", "Yokai", "Myling", "Hantu",

    // -- Liste des os -- //
    "Crâne", "Colonne vertébrale", "Mâchoire", "Omoplate", "Main", "Humérus", "Ulna", "Radius",
    "Pied", "Fibula", "Fémur", "Bassin",

    // -- Liste variantes selon la map -- //
    "TV allumé", "Fantôme sallon", "Fantôme garage", "Fantôme cuisine", " Fantôme salle de bain",
    "Fantôme chambre", "Lapin bougé", "PC allumé", "Raveille allumé", "Fantôme cave", "Mannequin déplacé",
    "Fantôme couloir", "Eau sale"
  ],

  // --- Map 5 --- //
  "Bleasdale Farmhouse": [
    // -- Liste Courantes à toutes les maps -- //
    "EMF Niveau 5", "Orbe fantomatique", "Écriture fantomatique", "Températures glaciales", "Spirit Box", "Empreintes digitales",
    "Crucifix calciné", "Photo du fantôme", "Objectif secondaire complété", "Santé mentale < 25%",    
    "Encens utilisé", "Mort d’un joueur", "Ouija", "Monkey Paw", "Boîte à musique",
    "Mirroir Hanté", "Carte de Tarot", "Cercle d'Invocation", "Voodoo Doll",
    "Objet maudit utilisé", "Interaction EMF", "Porte qui bouge", "Objet lancé", "Ghost event", "Apparition complète",    
    "Apparition ombre", "Game sans encens", "Fantôme Enfant", "Fantôme Femme", "Fantôme Homme",
    "Fantôme Sadako", "Cri Micro Parabolique", "Capteur Sonore",
    "Difficulté random > 7", "Fantôme tout nue", "Lumière allumé",
    "Lumière explosé", "Game sans livre", "Cauchemard du pauvre", "Mur de la mort", "Tarrot Maudit",
    "Game parfaite", "Souffle paranormal", "Évenement chantant", "Cri de la Banshee", "Cri du Deogen", "FREE",

    // -- Liste des fantômes -- //
    "Esprit", "Spectre", "Fantôme", "Oni", "Banshee", "Jumeaux", "Poltergeist", "Ombre",
    "Cauchemar", "Raiju", "Onryo", "Mimic", "Deogen", "Djinn", "Moroï", "Revenant", "Obake",
    "Yurei", "Démon", "Thayé", "Goryo", "Yokai", "Myling", "Hantu",

    // -- Liste des os -- //
    "Crâne", "Colonne vertébrale", "Mâchoire", "Omoplate", "Main", "Humérus", "Ulna", "Radius",
    "Pied", "Fibula", "Fémur", "Bassin",

    // -- Liste variantes selon la map -- //
    "Fantôme entrée", "Fantôme sallon", "Fantôme cuisine", "Fantôme salle à manger",
    "Fantôme jardin", "Fantôme salle de bain", "Fantôme grenier", "Fantôme chambre",
    "Fantôme couloir", "Fantôme salle des trophées", "Fantôme buanderie", "Bouteille de gaz",
    "Eau sale", "Fantôme bureau", "Fantôme dressing", "TV allumé"
  ],

  // --- Map 6 --- //
  "Grafton Farmhouse": [
    // -- Liste Courantes à toutes les maps -- //
    "EMF Niveau 5", "Orbe fantomatique", "Écriture fantomatique", "Températures glaciales", "Spirit Box", "Empreintes digitales",
    "Crucifix calciné", "Photo du fantôme", "Objectif secondaire complété", "Santé mentale < 25%",    
    "Encens utilisé", "Mort d’un joueur", "Ouija", "Monkey Paw", "Boîte à musique",
    "Mirroir Hanté", "Carte de Tarot", "Cercle d'Invocation", "Voodoo Doll",
    "Objet maudit utilisé", "Interaction EMF", "Porte qui bouge", "Objet lancé", "Ghost event", "Apparition complète",    
    "Apparition ombre", "Game sans encens", "Fantôme Enfant", "Fantôme Femme", "Fantôme Homme",
    "Fantôme Sadako", "Cri Micro Parabolique", "Capteur Sonore",
    "Difficulté random > 7", "Fantôme tout nue", "Lumière allumé",
    "Lumière explosé", "Game sans livre", "Cauchemard du pauvre", "Mur de la mort", "Tarrot Maudit",
    "Game parfaite", "Souffle paranormal", "Évenement chantant", "Cri de la Banshee", "Cri du Deogen", "FREE",

    // -- Liste des fantômes -- //
    "Esprit", "Spectre", "Fantôme", "Oni", "Banshee", "Jumeaux", "Poltergeist", "Ombre",
    "Cauchemar", "Raiju", "Onryo", "Mimic", "Deogen", "Djinn", "Moroï", "Revenant", "Obake",
    "Yurei", "Démon", "Thayé", "Goryo", "Yokai", "Myling", "Hantu",

    // -- Liste des os -- //
    "Crâne", "Colonne vertébrale", "Mâchoire", "Omoplate", "Main", "Humérus", "Ulna", "Radius",
    "Pied", "Fibula", "Fémur", "Bassin",

    // -- Liste variantes selon la map -- //
    "Eau sale", "Fantôme sallon", "Fantôme cuisine", "Fantôme buanderie", "Fantôme salle à manger",
    "Fantôme bibliotheque", "Fantôme salle des mannequins", "Fantôme chambre", "Fantôme salle de bain",
    "Fantôme salle des poupées", "Fantôme grenier", "Joue de la guitare"
  ],

  // --- Map 7 --- //
  "Maple Lodge Campsite": [
    // -- Liste Courantes à toutes les maps -- //
    "EMF Niveau 5", "Orbe fantomatique", "Écriture fantomatique", "Températures glaciales", "Spirit Box", "Empreintes digitales",
    "Crucifix calciné", "Photo du fantôme", "Objectif secondaire complété", "Santé mentale < 25%",    
    "Encens utilisé", "Mort d’un joueur", "Ouija", "Monkey Paw", "Boîte à musique",
    "Mirroir Hanté", "Carte de Tarot", "Cercle d'Invocation", "Voodoo Doll",
    "Objet maudit utilisé", "Interaction EMF", "Porte qui bouge", "Objet lancé", "Ghost event", "Apparition complète",    
    "Apparition ombre", "Game sans encens", "Fantôme Enfant", "Fantôme Femme", "Fantôme Homme",
    "Fantôme Sadako", "Cri Micro Parabolique", "Capteur Sonore",
    "Difficulté random > 7", "Fantôme tout nue", "Lumière allumé",
    "Lumière explosé", "Game sans livre", "Cauchemard du pauvre", "Mur de la mort", "Tarrot Maudit",
    "Game parfaite", "Souffle paranormal", "Évenement chantant", "Cri de la Banshee", "Cri du Deogen", "FREE",

    // -- Liste des fantômes -- //
    "Esprit", "Spectre", "Fantôme", "Oni", "Banshee", "Jumeaux", "Poltergeist", "Ombre",
    "Cauchemar", "Raiju", "Onryo", "Mimic", "Deogen", "Djinn", "Moroï", "Revenant", "Obake",
    "Yurei", "Démon", "Thayé", "Goryo", "Yokai", "Myling", "Hantu",

    // -- Liste des os -- //
    "Crâne", "Colonne vertébrale", "Mâchoire", "Omoplate", "Main", "Humérus", "Ulna", "Radius",
    "Pied", "Fibula", "Fémur", "Bassin",

    // -- Liste variantes selon la map -- //
    "Fantôme entrée", "Fantôme chalet", "Fantôme tente", "Fantôme Storage", "Fantôme feux de camp",
    "Fantôme toilette", "Eau sale", "Masque Jason", "TV allumé", "Fantôme salle de bain",
    "Fantôme chambre", "Fantôme cuisine", "Fantôme sallon", "Fantôme chapiteau"
  ],

  // --- Map 8 --- //
  "Camp Woodwind": [
    // -- Liste Courantes à toutes les maps -- //
    "EMF Niveau 5", "Orbe fantomatique", "Écriture fantomatique", "Températures glaciales", "Spirit Box", "Empreintes digitales",
    "Crucifix calciné", "Photo du fantôme", "Objectif secondaire complété", "Santé mentale < 25%",    
    "Encens utilisé", "Mort d’un joueur", "Ouija", "Monkey Paw", "Boîte à musique",
    "Mirroir Hanté", "Carte de Tarot", "Cercle d'Invocation", "Voodoo Doll",
    "Objet maudit utilisé", "Interaction EMF", "Porte qui bouge", "Objet lancé", "Ghost event", "Apparition complète",    
    "Apparition ombre", "Game sans encens", "Fantôme Enfant", "Fantôme Femme", "Fantôme Homme",
    "Fantôme Sadako", "Cri Micro Parabolique", "Capteur Sonore",
    "Difficulté random > 7", "Fantôme tout nue", "Lumière allumé",
    "Lumière explosé", "Game sans livre", "Cauchemard du pauvre", "Mur de la mort", "Tarrot Maudit",
    "Game parfaite", "Souffle paranormal", "Évenement chantant", "Cri de la Banshee", "Cri du Deogen", "FREE",

    // -- Liste des fantômes -- //
    "Esprit", "Spectre", "Fantôme", "Oni", "Banshee", "Jumeaux", "Poltergeist", "Ombre",
    "Cauchemar", "Raiju", "Onryo", "Mimic", "Deogen", "Djinn", "Moroï", "Revenant", "Obake",
    "Yurei", "Démon", "Thayé", "Goryo", "Yokai", "Myling", "Hantu",

    // -- Liste des os -- //
    "Crâne", "Colonne vertébrale", "Mâchoire", "Omoplate", "Main", "Humérus", "Ulna", "Radius",
    "Pied", "Fibula", "Fémur", "Bassin",

    // -- Liste variantes selon la map -- //
    "Fantôme feu de camp", "Fantôme tente", "Fantôme toilette", "Fantôme chapiteau", "Fantôme couloir"
  ],

  // --- Map 9 --- //
  "Sunny Meadows": [
    // -- Liste Courantes à toutes les maps -- //
    "EMF Niveau 5", "Orbe fantomatique", "Écriture fantomatique", "Températures glaciales", "Spirit Box", "Empreintes digitales",
    "Crucifix calciné", "Photo du fantôme", "Objectif secondaire complété", "Santé mentale < 25%",    
    "Encens utilisé", "Mort d’un joueur", "Ouija", "Monkey Paw", "Boîte à musique",
    "Mirroir Hanté", "Carte de Tarot", "Cercle d'Invocation", "Voodoo Doll",
    "Objet maudit utilisé", "Interaction EMF", "Porte qui bouge", "Objet lancé", "Ghost event", "Apparition complète",    
    "Apparition ombre", "Game sans encens", "Fantôme Enfant", "Fantôme Femme", "Fantôme Homme",
    "Fantôme Sadako", "Cri Micro Parabolique", "Capteur Sonore",
    "Difficulté random > 7", "Fantôme tout nue", "Lumière allumé",
    "Lumière explosé", "Game sans livre", "Cauchemard du pauvre", "Mur de la mort", "Tarrot Maudit",
    "Game parfaite", "Souffle paranormal", "Évenement chantant", "Cri de la Banshee", "Cri du Deogen", "FREE",

    // -- Liste des fantômes -- //
    "Esprit", "Spectre", "Fantôme", "Oni", "Banshee", "Jumeaux", "Poltergeist", "Ombre",
    "Cauchemar", "Raiju", "Onryo", "Mimic", "Deogen", "Djinn", "Moroï", "Revenant", "Obake",
    "Yurei", "Démon", "Thayé", "Goryo", "Yokai", "Myling", "Hantu",

    // -- Liste des os -- //
    "Crâne", "Colonne vertébrale", "Mâchoire", "Omoplate", "Main", "Humérus", "Ulna", "Radius",
    "Pied", "Fibula", "Fémur", "Bassin",

    // -- Liste variantes selon la map -- //
    "Fantôme entrée", "Fantôme aile gauche", "Fantôme aile droite", "Fantôme salle de classe",
    "Fantôme court", "Fantôme salle de lavage", "Fantôme cuisine", "Fantôme sous-sol aile gauche",
    "Fantôme sous-sol aile droite"
  ],

  // --- Map 10 --- //
  "Sunny Meadows - Restricted": [
    // -- Liste Courantes à toutes les maps -- //
    "EMF Niveau 5", "Orbe fantomatique", "Écriture fantomatique", "Températures glaciales", "Spirit Box", "Empreintes digitales",
    "Crucifix calciné", "Photo du fantôme", "Objectif secondaire complété", "Santé mentale < 25%",    
    "Encens utilisé", "Mort d’un joueur", "Ouija", "Monkey Paw", "Boîte à musique",
    "Mirroir Hanté", "Carte de Tarot", "Cercle d'Invocation", "Voodoo Doll",
    "Objet maudit utilisé", "Interaction EMF", "Porte qui bouge", "Objet lancé", "Ghost event", "Apparition complète",    
    "Apparition ombre", "Game sans encens", "Fantôme Enfant", "Fantôme Femme", "Fantôme Homme",
    "Fantôme Sadako", "Cri Micro Parabolique", "Capteur Sonore",
    "Difficulté random > 7", "Fantôme tout nue", "Lumière allumé",
    "Lumière explosé", "Game sans livre", "Cauchemard du pauvre", "Mur de la mort", "Tarrot Maudit",
    "Game parfaite", "Souffle paranormal", "Évenement chantant", "Cri de la Banshee", "Cri du Deogen", "FREE",

    // -- Liste des fantômes -- //
    "Esprit", "Spectre", "Fantôme", "Oni", "Banshee", "Jumeaux", "Poltergeist", "Ombre",
    "Cauchemar", "Raiju", "Onryo", "Mimic", "Deogen", "Djinn", "Moroï", "Revenant", "Obake",
    "Yurei", "Démon", "Thayé", "Goryo", "Yokai", "Myling", "Hantu",

    // -- Liste des os -- //
    "Crâne", "Colonne vertébrale", "Mâchoire", "Omoplate", "Main", "Humérus", "Ulna", "Radius",
    "Pied", "Fibula", "Fémur", "Bassin",

    // -- Liste variantes selon la map -- //
    "Fantôme entrée", "Fantôme aile gauche", "Fantôme aile droite", "Fantôme salle de classe",
    "Fantôme court", "Fantôme salle de lavage", "Fantôme cuisine", "Fantôme sous-sol aile gauche",
    "Fantôme sous-sol aile droite"

  ],

  // --- Map 11 --- //
  "Prison": [
    // -- Liste Courantes à toutes les maps -- //
    "EMF Niveau 5", "Orbe fantomatique", "Écriture fantomatique", "Températures glaciales", "Spirit Box", "Empreintes digitales",
    "Crucifix calciné", "Photo du fantôme", "Objectif secondaire complété", "Santé mentale < 25%",    
    "Encens utilisé", "Mort d’un joueur", "Ouija", "Monkey Paw", "Boîte à musique",
    "Mirroir Hanté", "Carte de Tarot", "Cercle d'Invocation", "Voodoo Doll",
    "Objet maudit utilisé", "Interaction EMF", "Porte qui bouge", "Objet lancé", "Ghost event", "Apparition complète",    
    "Apparition ombre", "Game sans encens", "Fantôme Enfant", "Fantôme Femme", "Fantôme Homme",
    "Fantôme Sadako", "Cri Micro Parabolique", "Capteur Sonore",
    "Difficulté random > 7", "Fantôme tout nue", "Lumière allumé",
    "Lumière explosé", "Game sans livre", "Cauchemard du pauvre", "Mur de la mort", "Tarrot Maudit",
    "Game parfaite", "Souffle paranormal", "Évenement chantant", "Cri de la Banshee", "Cri du Deogen", "FREE",

    // -- Liste des fantômes -- //
    "Esprit", "Spectre", "Fantôme", "Oni", "Banshee", "Jumeaux", "Poltergeist", "Ombre",
    "Cauchemar", "Raiju", "Onryo", "Mimic", "Deogen", "Djinn", "Moroï", "Revenant", "Obake",
    "Yurei", "Démon", "Thayé", "Goryo", "Yokai", "Myling", "Hantu",

    // -- Liste des os -- //
    "Crâne", "Colonne vertébrale", "Mâchoire", "Omoplate", "Main", "Humérus", "Ulna", "Radius",
    "Pied", "Fibula", "Fémur", "Bassin",

    // -- Liste variantes selon la map -- //
    "Porte de prison bougé", "Fantôme bloc A", "Fantôme bloc B", "Fantôme bureau directeur",
    "Fantôme entrée", "Fantôme cafereria", "Fantôme salle sécurité", "Fantôme infirmerie",
    "Fantôme office", "Fantôme salle de bain"
  ],

  // --- Map 12 --- //
  "Brownstone High School": [
    // -- Liste Courantes à toutes les maps -- //
    "EMF Niveau 5", "Orbe fantomatique", "Écriture fantomatique", "Températures glaciales", "Spirit Box", "Empreintes digitales",
    "Crucifix calciné", "Photo du fantôme", "Objectif secondaire complété", "Santé mentale < 25%",    
    "Encens utilisé", "Mort d’un joueur", "Ouija", "Monkey Paw", "Boîte à musique",
    "Mirroir Hanté", "Carte de Tarot", "Cercle d'Invocation", "Voodoo Doll",
    "Objet maudit utilisé", "Interaction EMF", "Porte qui bouge", "Objet lancé", "Ghost event", "Apparition complète",    
    "Apparition ombre", "Game sans encens", "Fantôme Enfant", "Fantôme Femme", "Fantôme Homme",
    "Fantôme Sadako", "Cri Micro Parabolique", "Capteur Sonore",
    "Difficulté random > 7", "Fantôme tout nue", "Lumière allumé",
    "Lumière explosé", "Game sans livre", "Cauchemard du pauvre", "Mur de la mort", "Tarrot Maudit",
    "Game parfaite", "Souffle paranormal", "Évenement chantant", "Cri de la Banshee", "Cri du Deogen", "FREE",

    // -- Liste des fantômes -- //
    "Esprit", "Spectre", "Fantôme", "Oni", "Banshee", "Jumeaux", "Poltergeist", "Ombre",
    "Cauchemar", "Raiju", "Onryo", "Mimic", "Deogen", "Djinn", "Moroï", "Revenant", "Obake",
    "Yurei", "Démon", "Thayé", "Goryo", "Yokai", "Myling", "Hantu",

    // -- Liste des os -- //
    "Crâne", "Colonne vertébrale", "Mâchoire", "Omoplate", "Main", "Humérus", "Ulna", "Radius",
    "Pied", "Fibula", "Fémur", "Bassin",

    // -- Liste variantes selon la map -- //
    "Fantôme aile gauche", "Fantôme aile droite", "Fantôme classe", "Fantôme caféteria", "Fantôme salle de science",
    "Fantôme gymnase", "Fantôme storage", "Fantôme vestiare", "Fantôme toilette", "Fantôme aile gauche 1er étage",
    "Fantôme aile droite 1er étage", "Fantôme entrée"
  ],

  // --- Map 13 --- //
  "Point Hope": [
    // -- Liste Courantes à toutes les maps -- //
    "EMF Niveau 5", "Orbe fantomatique", "Écriture fantomatique", "Températures glaciales", "Spirit Box", "Empreintes digitales",
    "Crucifix calciné", "Photo du fantôme", "Objectif secondaire complété", "Santé mentale < 25%",    
    "Encens utilisé", "Mort d’un joueur", "Ouija", "Monkey Paw", "Boîte à musique",
    "Mirroir Hanté", "Carte de Tarot", "Cercle d'Invocation", "Voodoo Doll",
    "Objet maudit utilisé", "Interaction EMF", "Porte qui bouge", "Objet lancé", "Ghost event", "Apparition complète",    
    "Apparition ombre", "Game sans encens", "Fantôme Enfant", "Fantôme Femme", "Fantôme Homme",
    "Fantôme Sadako", "Cri Micro Parabolique", "Capteur Sonore",
    "Difficulté random > 7", "Fantôme tout nue", "Lumière allumé",
    "Lumière explosé", "Game sans livre", "Cauchemard du pauvre", "Mur de la mort", "Tarrot Maudit",
    "Game parfaite", "Souffle paranormal", "Évenement chantant", "Cri de la Banshee", "Cri du Deogen", "FREE",

    // -- Liste des fantômes -- //
    "Esprit", "Spectre", "Fantôme", "Oni", "Banshee", "Jumeaux", "Poltergeist", "Ombre",
    "Cauchemar", "Raiju", "Onryo", "Mimic", "Deogen", "Djinn", "Moroï", "Revenant", "Obake",
    "Yurei", "Démon", "Thayé", "Goryo", "Yokai", "Myling", "Hantu",

    // -- Liste des os -- //
    "Crâne", "Colonne vertébrale", "Mâchoire", "Omoplate", "Main", "Humérus", "Ulna", "Radius",
    "Pied", "Fibula", "Fémur", "Bassin",

    // -- Liste variantes selon la map -- //
    "Fantôme entrée", "Fantôme salle de bain", "Fantôme sallon", "Fantôme cuisine", "Fantôme chambre",
    "Fantôme billard", "Fantôme phare", "Fantôme salle des machines", "Fantôme salle à manger"
  ],

  // --- Map 14 --- //
  "Random": []
};

function genererRandomPool() {
    let pool = [];
    for (let map in objectifsParMap) {
        if (map !== "Random") { 
            pool = pool.concat(objectifsParMap[map]);
        }
    }
    return [...new Set(pool)];
}

objectifsParMap["Random"] = genererRandomPool();

let currentMap = null;
let bingoCount = 0;
let bingoFound = new Set();
let gridData = [];
let checked = Array(5).fill(null).map(() => Array(5).fill(false));

const canvasSize = 520;
const cellSize = canvasSize / 5;

// Récupération éléments
let canvas = document.getElementById("bingo-canvas");
let ctx = canvas.getContext("2d");
const overlay = document.getElementById("bingo-overlay");
const closeOverlay = document.getElementById("close-overlay");

// Fermer overlay
closeOverlay.addEventListener("click", () => {
  overlay.classList.add("hidden");
});

function selectMap(mapName) {
  currentMap = mapName;
  bingoCount = 0;
  bingoFound.clear();
  document.getElementById('bingo-count').innerText = bingoCount;
  document.getElementById('score-board').classList.add("hidden");

  const detailsDiv = document.getElementById('map-details');
  detailsDiv.innerHTML = `
    <div class="map-info">
      <h2>${mapName}</h2>
      <button onclick="generateGrid()">Générer une grille</button>
    </div>
  `;

  window.scrollTo({ top: 0, behavior: 'smooth' });
}

function generateGrid() {
  const totalItems = 25;
  const sourceList = objectifsParMap[currentMap];
  if (!sourceList || sourceList.length < totalItems) {
    alert("Pas assez d'objectifs !");
    return;
  }

  const shuffled = [...sourceList].sort(() => Math.random() - 0.5);
  gridData = shuffled.slice(0, totalItems);
  checked = Array(5).fill(null).map(() => Array(5).fill(false));

  // On affiche l’overlay
  overlay.classList.remove("hidden");

  drawGrid();
}

// Gestion du clic sur les cases
canvas.addEventListener("click", (e) => {
  const rect = canvas.getBoundingClientRect();
  const x = e.clientX - rect.left;
  const y = e.clientY - rect.top;
  const col = Math.floor(x / cellSize);
  const row = Math.floor(y / cellSize);

  checked[row][col] = !checked[row][col];
  drawGrid();
  checkForBingo();
});

// Dessin de la grille
function drawGrid() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  for (let row = 0; row < 5; row++) {
    for (let col = 0; col < 5; col++) {
      const x = col * cellSize;
      const y = row * cellSize;

      // Fond
      ctx.fillStyle = "#1e1e1e";
      ctx.fillRect(x, y, cellSize, cellSize);

      // Bordure
      ctx.strokeStyle = "#00ffff";
      ctx.strokeRect(x, y, cellSize, cellSize);

      // Texte
      ctx.fillStyle = "white";
      ctx.font = "14px Verdana";
      ctx.textAlign = "center";
      ctx.textBaseline = "middle";
      const text = gridData[row * 5 + col];
      wrapText(text, x + cellSize / 2, y + cellSize / 2, cellSize - 10, 16);

      // ✔ rouge si coché
      if (checked[row][col]) {
        ctx.fillStyle = "red";
        ctx.font = "bold 40px Verdana";
        ctx.fillText("✔", x + cellSize / 2, y + cellSize / 2);
      }
    }
  }
}

// Gestion du texte multi-ligne
function wrapText(text, x, y, maxWidth, lineHeight) {
  const words = text.split(" ");
  let line = "";
  let lines = [];
  for (let i = 0; i < words.length; i++) {
    const testLine = line + words[i] + " ";
    const metrics = ctx.measureText(testLine);
    if (metrics.width > maxWidth && i > 0) {
      lines.push(line);
      line = words[i] + " ";
    } else {
      line = testLine;
    }
  }
  lines.push(line);

  let offset = -(lines.length - 1) * lineHeight / 2;
  for (let i = 0; i < lines.length; i++) {
    ctx.fillText(lines[i], x, y + offset + (i * lineHeight));
  }
}

// Vérification du bingo (uniquement lignes + colonnes)
function checkForBingo() {
  const newBingos = [];

  // Lignes horizontales
  for (let i = 0; i < 5; i++) {
    if (checked[i].every(val => val) && !bingoFound.has(`row${i}`)) {
      newBingos.push(`row${i}`);
    }
  }

  // Colonnes verticales
  for (let j = 0; j < 5; j++) {
    if (checked.every(row => row[j]) && !bingoFound.has(`col${j}`)) {
      newBingos.push(`col${j}`);
    }
  }

  if (newBingos.length > 0) {
    newBingos.forEach(b => bingoFound.add(b));
    bingoCount += newBingos.length;
    showBingoAnimation(bingoCount);
    document.getElementById('bingo-count').innerText = bingoCount;
    document.getElementById('score-board').classList.remove("hidden");
  }
}

// Petite animation quand un bingo est trouvé
function showBingoAnimation(count) {
  const anim = document.getElementById('bingo-animation');
  document.getElementById('bingo-number').textContent = count;
  anim.classList.remove('hidden');
  setTimeout(() => anim.classList.add('hidden'), 1500);
}